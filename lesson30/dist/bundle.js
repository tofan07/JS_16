(()=>{"use strict";var e,t,c,n,o,r,i,s,a,l,u,d;(function(){var e=document.querySelector("#timer-hours"),t=document.querySelector("#timer-minutes"),c=document.querySelector("#timer-seconds");function n(){var n,o,r,i=(n=(new Date("8 January 2021").getTime()-(new Date).getTime())/1e3,o=Math.floor(n%60),r=Math.floor(n/60%60),{timeRemaining:n,hours:Math.floor(n/60/60),minutes:r,seconds:o});i.timeRemaining>0?(e.textContent=i.hours>9?i.hours:"0".concat(i.hours),t.textContent=i.minutes>9?i.minutes:"0".concat(i.minutes),c.textContent=i.seconds>9?i.seconds:"0".concat(i.seconds)):(e.textContent="00",t.textContent="00",c.textContent="00")}n(),setInterval(n,1e3)})(),u=document.querySelector("menu"),d=function(){u.classList.toggle("active-menu")},document.addEventListener("click",(function(e){var t=e.target;if(t.matches("a")&&!t.matches(".close-btn")&&0===t.classList.length){e.preventDefault();var c=t.getAttribute("href");return document.querySelector(c).scrollIntoView({behavior:"smooth",block:"start"}),void d()}t.matches(".close-btn")?d():u.classList.contains("active-menu")?(t=t.closest(".active-menu"))||d():(t=t.closest(".menu"))&&d()})),document.querySelector("main>a").addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})})),r=document.querySelector(".popup"),i=document.querySelector(".popup-content"),s=document.querySelectorAll(".popup-btn"),a=-30,l=function e(){a++;var t=requestAnimationFrame(e);i.style.top=a<11?i.style.top="".concat(a,"%"):cancelAnimationFrame(t)},s.forEach((function(e){return e.addEventListener("click",(function(){r.style.display="block",document.documentElement.clientWidth>768&&l()}))})),r.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?(r.style.display="none",a=-30):(t=t.closest(".popup-content"))||(r.style.display="none",a=-30)})),c=document.querySelector(".service-header"),n=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab"),c.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&n.forEach((function(e,c){e===t&&function(e){for(var t=0;t<o.length;t++)e===t?(n[t].classList.add("active"),o[t].classList.remove("d-none")):(n[t].classList.remove("active"),o[t].classList.add("d-none"))}(c)}))})),function(){var e,t=document.querySelectorAll(".portfolio-item"),c=document.querySelector(".portfolio-dots"),n=document.querySelector(".portfolio-content"),o=0,r=function(e,t,c){e[t].classList.remove(c)},i=function(e,t,c){e[t].classList.add(c)};t.forEach((function(){var e=document.createElement("li");e.classList.add("dot"),c.append(e)})),c.querySelector(".dot").classList.add("dot-active");var s=document.querySelectorAll(".dot"),a=function(){r(t,o,"portfolio-item-active"),r(s,o,"dot-active"),++o===t.length&&(o=0),i(t,o,"portfolio-item-active"),i(s,o,"dot-active")},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;e=setInterval(a,t)};n.addEventListener("click",(function(e){e.preventDefault();var c=e.target;c.matches(".portfolio-btn, .dot")&&(r(t,o,"portfolio-item-active"),r(s,o,"dot-active"),c.matches("#arrow-right")?o++:c.matches("#arrow-left")?o--:c.matches(".dot")&&s.forEach((function(e,t){e===c&&(o=t)})),o>=t.length&&(o=0),o<0&&(o=t.length-1),i(t,o,"portfolio-item-active"),i(s,o,"dot-active"))})),n.addEventListener("mouseover",(function(t){var c=t.target;(c.matches(".portfolio-btn")||c.matches(".dot"))&&clearInterval(e)})),n.addEventListener("mouseout",(function(e){var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&l()})),l(1500)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),c=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),o=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),i=document.getElementById("total"),s=function(){var t,s,a,l,u,d=0,v=1,m=1,f=c.options[c.selectedIndex].value,h=+n.value;r.value>1&&(v+=(r.value-1)/10),o.value&&o.value<5?m*=2:o.value&&o.value<10&&(m*=1.5),f&&h&&(d=e*f*h*v*m),s=(t={duration:2e3,timing:function(e){return e},draw:function(e){i.textContent=Math.floor(e*d)}}).duration,a=t.draw,l=t.timing,u=performance.now(),requestAnimationFrame((function e(t){var c=(t-u)/s;c>1&&(c=1);var n=l(c);a(n),c<1&&requestAnimationFrame(e)}))};t.addEventListener("input",(function(e){var t=e.target;t.matches("select")||(t.value=t.value.replace(/[\D]/,""))})),t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&s()}))}(100),document.getElementById("command").addEventListener("mouseover",(function(c){var n=c.target;(n=n.closest("img"))?(e=n.getAttribute("src"),t=n,n.src=n.dataset.img):t&&(t.src=e)})),function(){var e=document.createElement("div");e.style.cssText="font-size: 2rem;",document.addEventListener("submit",(function(o){if(o.preventDefault(),localStorage.getItem("isValid")){var r=o.target;(r=r.closest("form")).appendChild(e),e.innerHTML="\n        <section>\n            <div class='sk-fading-circle'>\n                <div class='sk-circle sk-circle-1'></div>\n                <div class='sk-circle sk-circle-2'></div>\n                <div class='sk-circle sk-circle-3'></div>\n                <div class='sk-circle sk-circle-4'></div>\n                <div class='sk-circle sk-circle-5'></div>\n                <div class='sk-circle sk-circle-6'></div>\n                <div class='sk-circle sk-circle-7'></div>\n                <div class='sk-circle sk-circle-8'></div>\n                <div class='sk-circle sk-circle-9'></div>\n                <div class='sk-circle sk-circle-10'></div>\n                <div class='sk-circle sk-circle-11'></div>\n                <div class='sk-circle sk-circle-12'></div>\n            </div>\n            </section>\n        ";var i=new FormData(r),s={};i.forEach((function(e,t){s[t]=e})),n(s).then(t).then(r.reset()).catch(c),localStorage.removeItem("isValid")}}));var t=function(t){if(200!==t.status)throw new Error("network status not 200!");e.textContent="Спасибо! Мы скоро с вами свяжемся!",e.style.color="#19b5fe",console.log(e),setTimeout((function(){e.remove()}),5e3)},c=function(t){e.textContent="Что-то пошло не так...",e.style.color="red",console.error(t)},n=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();